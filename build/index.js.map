{"version":3,"sources":["../src/index.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/*!\n * Validate-light\n * v0.1.0\n * (https://github.com/gionatan-lombardi/modal-light)\n * Author: Gionatan Lombardi\n * Free to use, to change, to destroy...\n */\n\nimport 'custom-event-polyfill';\n\n// Utility functions\n\n/**\n * closest gets the closest parent that has the specified selector\n * @param {HTMLelement} node - an existing DOM node\n * @param {string} selector - the selector to match\n * @returns {HTMLelement||null} the closest parent node\n * that matches the selector or null if no one matches\n * @example\n * // returns [<div id=\"parent\"><p class=\"child\">I'm a ðŸ‘¶ of a ðŸ‘¨</p></div>]\n * <div id=\"parent\"><p class=\"child\">I'm a ðŸ‘¶ of a ðŸ‘¨</p></div>\n * var child = document.querySelector('.child');\n * closest(child, '#parent');\n */\nfunction closest(node, selector) {\n  var el = node.parentNode;\n  if (el && el !== document) {\n    if ((el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector)) {\n      return el;\n    }\n    return closest(el, selector);\n  }\n  return null;\n}\n\nconst defaultParams = {\n  validateOnBlur: true,\n  validateOnSubmit: true,\n  formBlockSelector: '.form__group',\n  errorBlockClass: 'form__error-block',\n  validClass: 'is-valid',\n  invalidClass: 'is-invalid',\n};\n\nfunction builder(el, builderParams) {\n  const form = el;\n\n  // Private validation methods\n\n  form.fieldChecks = {\n\n    empty: (value) => {\n      value = value.trim();\n      const field = {\n        hasError: false,\n        isEmpty: !value,\n        value: value || null,\n      };\n      return field;\n    },\n\n    regExp: (value, r) => {\n      const field = form.fieldChecks.empty(value);\n      // If value is empty\n      if (field.value == null) {\n        field.isEmpty = true;\n        field.hasError = false;\n        return field;\n      }\n      // Regular expression check\n      const regExpResult = r.test(field.value);\n      if (!regExpResult) {\n        field.hasError = true;\n        return field;\n      }\n      return field;\n    },\n\n    email: value => form.fieldChecks.regExp(value, /^([a-zA-Z0-9._-]+[a-zA-Z0-9]@[a-zA-Z0-9-]+\\.[a-zA-Z.]{2,5})$/),\n\n    tel: value => form.fieldChecks.regExp(value, /^\\+?[0-9\\.#\\-\\(\\)\\*\\/\\s]*$/),\n  };\n\n  // UI validation elements\n\n  function showError(field, where, msg, cssClass) {\n    let errorBlock = where.querySelector(`.${cssClass}`);\n    const uniqueClass = field.id ? field.id : field.name ? field.name : '';\n    if (errorBlock) {\n      errorBlock.classList.remove('is-hidden');\n      errorBlock.innerHTML = `<span>${msg}</span>`;\n    } else {\n      errorBlock = document.createElement('div');\n      errorBlock.className = `${cssClass} is-hidden ${cssClass}--${uniqueClass}`;\n      errorBlock.innerHTML = `<span>${msg}</span>`;\n      where.appendChild(errorBlock);\n      // For css transition purposes\n      setTimeout(() => {\n        errorBlock.classList.remove('is-hidden');\n      }, 0);\n    }\n    return false;\n  }\n\n  function hideError(errorContainer, cssClass) {\n    const errorBlock = errorContainer.querySelector(`.${cssClass}`);\n    if (errorBlock) {\n      errorBlock.classList.add('is-hidden');\n    }\n  }\n\n  // Public Methods\n\n  function validate() {\n    form.fields = form.querySelectorAll('input, textarea, select');\n\n    const result = [].every.call(form.fields, (field) => {\n      const validationConfig = [\n        {\n          checkCondition: field.type !== 'checkbox' && field.hasAttribute('required'),\n          validationType: form.fieldChecks.empty(field.value).isEmpty,\n          msg: form.messages.required,\n        },\n        {\n          checkCondition: field.type === 'email',\n          validationType: form.fieldChecks.email(field.value).hasError,\n          msg: form.messages.email,\n        },\n        {\n          checkCondition: field.type === 'tel',\n          validationType: form.fieldChecks.tel(field.value).hasError,\n          msg: form.messages.tel,\n        },\n        {\n          checkCondition: field.type === 'checkbox' && field.hasAttribute('required'),\n          validationType: !field.checked,\n          msg: form.messages.required,\n        },\n        {\n          checkCondition: field.type === 'radio' && field.hasAttribute('required'),\n          validationType: !form.querySelector(`input[name=\"${field.name}\"]:checked`),\n          msg: form.messages.required,\n        },\n\n      ];\n\n      (function () {\n        for (const k in form.customChecks) {\n          if (Object.prototype.hasOwnProperty.call(form.customChecks, k)) {\n            const dataName = field.getAttribute(`data-validate-${k}`);\n            const dataConfig = dataName !== null ? dataName.split(',') : false;\n            form.messages[k] = form.getAttribute(`data-msg-${k}`);\n            if (!form.messages[k]) {\n              throw new Error(`ValidateLight - You must define an error message for your new \"${k}\" validation rule. Set it on the form tag adding the data-msg-${k} attribute`);\n            }\n            validationConfig.push({\n              checkCondition: !!dataConfig,\n              validationType: !dataConfig ? false : form.customChecks[k](field.value, field, dataConfig).isEmpty ? false : form.customChecks[k](field.value, field, dataConfig).hasError,\n              msg: form.messages[k],\n            });\n          }\n        }\n      }());\n\n      const fieldResult = validationConfig.every((elem) => {\n        if (elem.checkCondition) {\n          const formGroup = closest(field, builderParams.formBlockSelector);\n          if (elem.validationType) {\n            field.classList.remove(builderParams.validClass);\n            field.classList.add(builderParams.invalidClass);\n            showError(field, formGroup, elem.msg, 'form__error-block');\n            field.dispatchEvent(new CustomEvent('validate-light:error'));\n            return false;\n          }\n          field.classList.remove('is-invalid');\n          if (field.value !== '') {\n            field.classList.add('is-valid');\n          } else {\n            field.classList.remove('is-valid');\n          }\n          hideError(formGroup, 'form__error-block');\n          return true;\n        }\n        return true;\n      });\n\n      return fieldResult;\n    });\n\n    if (result) {\n      form.submit();\n    }\n  }\n\n  function setFieldCheck(name, check) {\n    if (typeof name !== 'string' || typeof check === 'undefined') {\n      throw new Error('ValidateLight - You must define a string name and a method for your new validation rule');\n    }\n\n    if (check instanceof RegExp) {\n      form.customChecks[name] = value => form.fieldChecks.regExp(value, check);\n    } else if (check instanceof Function) {\n      form.customChecks[name] = (value, field, config) => {\n        const result = form.fieldChecks.empty(value);\n        result.hasError = !check(value, field, config);\n        return result;\n      };\n    } else {\n      throw new Error('ValidateLight - Your new validation method is invalid');\n    }\n  }\n\n  form.setAttribute('novalidate', 'novalidate');\n\n  form.messages = {\n    required: form.getAttribute('data-msg-required'),\n    email: form.getAttribute('data-msg-email'),\n    tel: form.getAttribute('data-msg-tel'),\n  };\n\n  form.customChecks = {};\n\n  if (builderParams.validateOnSubmit) {\n    form.addEventListener('submit', (e) => {\n      e.preventDefault();\n      validate();\n    });\n  }\n\n  // Stores the plugin public exposed methods and properties, directly in the form HTMLElement\n  form.validateLight = {\n    validate,\n    setFieldCheck: (name, check) => setFieldCheck(name, check),\n  };\n\n  // Returns the plugin instance, with the public exposed methods and properties\n  return form.validateLight;\n}\n\nexport default function validateLight(element, customParams) {\n  const nodeList = [];\n  const forms = [];\n\n  return (function init() {\n    // The plugin is called on a single HTMLElement\n    if (element && element instanceof HTMLElement && element.tagName.toUpperCase() === 'FORM') {\n      nodeList.push(element);\n    // The plugin is called on a selector\n    } else if (element && typeof element === 'string') {\n      const elementsList = document.querySelectorAll(element);\n      for (let i = 0, l = elementsList.length; i < l; ++i) {\n        if (elementsList[i] instanceof HTMLElement\n          && elementsList[i].tagName.toUpperCase() === 'FORM') {\n          nodeList.push(elementsList[i]);\n        }\n      }\n    // The plugin is called on any HTMLElements list (NodeList, HTMLCollection, Array, etc.)\n    } else if (element && element.length) {\n      for (let i = 0, l = element.length; i < l; ++i) {\n        if (element[i] instanceof HTMLElement\n          && element[i].tagName.toUpperCase() === 'FORM') {\n          nodeList.push(element[i]);\n        }\n      }\n    }\n\n    // Launches the plugin over every HTMLElement\n    // And stores every plugin instance\n    for (let i = 0, l = nodeList.length; i < l; ++i) {\n      forms.push(builder(nodeList[i], Object.assign({}, defaultParams, customParams)));\n    }\n\n    // Returns all plugin instances\n    return forms;\n  }());\n}\n"]}
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
try{var ce=new window.CustomEvent("test");if(ce.preventDefault(),ce.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch(e){var CustomEvent=function(e,t){var n,r;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}
},{}],2:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _index=require("./index"),_index2=_interopRequireDefault(_index);!function(e){var i=e;i.validateLight=_index2.default}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./index":3}],3:[function(require,module,exports){
"use strict";function closest(e,t){var r=e.parentNode;return r&&r!==document?(r.matches||r.matchesSelector||r.msMatchesSelector||r.mozMatchesSelector||r.webkitMatchesSelector||r.oMatchesSelector).call(r,t)?r:closest(r,t):null}function builder(e,t){function r(e,t,r,a){var i=t.querySelector("."+a),n=e.id?e.id:e.name?e.name:"";return i?(i.classList.remove("is-hidden"),i.innerHTML="<span>"+r+"</span>"):(i=document.createElement("div"),i.className=a+" is-hidden "+a+"--"+n,i.innerHTML="<span>"+r+"</span>",t.appendChild(i),setTimeout(function(){i.classList.remove("is-hidden")},0)),!1}function a(e,t){var r=e.querySelector("."+t);r&&r.classList.add("is-hidden")}function i(){var e=[].every.call(l,function(e){var i=[{checkCondition:"checkbox"!==e.type&&e.hasAttribute("required"),validationType:d.empty(e.value).isEmpty,msg:s.required},{checkCondition:"email"===e.type,validationType:d.email(e.value).hasError,msg:s.email},{checkCondition:"tel"===e.type,validationType:d.tel(e.value).hasError,msg:s.tel},{checkCondition:"checkbox"===e.type&&e.hasAttribute("required"),validationType:!e.checked,msg:s.required},{checkCondition:"radio"===e.type&&e.hasAttribute("required"),validationType:!o.querySelector('input[name="'+e.name+'"]:checked'),msg:s.required}];!function(){for(var t in u)if(Object.prototype.hasOwnProperty.call(u,t)){var r=e.getAttribute("data-validate-"+t),a=null!==r&&r.split(",");if(s[t]=o.getAttribute("data-msg-"+t),!s[t])throw new Error('ValidateLight - You must define an error message for your new "'+t+'" validation rule. Set it on the form tag adding the data-msg-'+t+" attribute");i.push({checkCondition:!!a,validationType:!!a&&(!u[t](e.value,e,a).isEmpty&&u[t](e.value,e,a).hasError),msg:s[t]})}}();var n=i.every(function(i){if(i.checkCondition){var n=closest(e,t.formBlockSelector);return i.validationType?(e.classList.remove(t.validClass),e.classList.add(t.invalidClass),r(e,n,i.msg,"form__error-block"),e.dispatchEvent(new CustomEvent("validate-light:error")),!1):(e.classList.remove("is-invalid"),""!==e.value?e.classList.add("is-valid"):e.classList.remove("is-valid"),a(n,"form__error-block"),!0)}return!0});return n});e&&(console.log(o),o.submit())}function n(e,t){if("string"!=typeof e||"undefined"==typeof t)throw new Error("ValidateLight - You must define a string name and a method for your new validation rule");if(t instanceof RegExp)u[e]=function(e){return d.regExp(e,t)};else{if(!(t instanceof Function))throw new Error("ValidateLight - Your new validation method is invalid");u[e]=function(e,r,a){var i=d.empty(e);return i.hasError=!t(e,r,a),i}}}var o=e,l=o.querySelectorAll("input, textarea, select"),s={required:o.getAttribute("data-msg-required"),email:o.getAttribute("data-msg-email"),tel:o.getAttribute("data-msg-tel")},u={};o.setAttribute("novalidate","novalidate");var d={empty:function(e){e=e.trim();var t={hasError:!1,isEmpty:!e,value:e||null};return t},regExp:function(e,t){var r=d.empty(e);if(null==r.value)return r.isEmpty=!0,r.hasError=!1,r;var a=t.test(r.value);return a?r:(r.hasError=!0,r)},email:function(e){return d.regExp(e,/^([a-zA-Z0-9._-]+[a-zA-Z0-9]@[a-zA-Z0-9-]+\.[a-zA-Z.]{2,5})$/)},tel:function(e){return d.regExp(e,/^\+?[0-9\.#\-\(\)\*\/\s]*$/)}};return t.validateOnSubmit&&o.addEventListener("submit",function(e){e.preventDefault(),i()}),o.validateLight={fields:l,validate:i,showError:r,hideError:a,setFieldCheck:function(e,t){return n(e,t)}},o.validateLight}function validateLight(e,t){var r=[],a=[];return function(){if(e&&e instanceof HTMLElement&&"FORM"===e.tagName.toUpperCase())r.push(e);else if(e&&"string"==typeof e)for(var i=document.querySelectorAll(e),n=0,o=i.length;n<o;++n)i[n]instanceof HTMLElement&&"FORM"===i[n].tagName.toUpperCase()&&r.push(i[n]);else if(e&&e.length)for(var l=0,s=e.length;l<s;++l)e[l]instanceof HTMLElement&&"FORM"===e[l].tagName.toUpperCase()&&r.push(e[l]);for(var u=0,d=r.length;u<d;++u)a.push(builder(r[u],_extends({},defaultParams,t)));return a}()}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};exports.default=validateLight,require("custom-event-polyfill");var defaultParams={validateOnBlur:!0,validateOnSubmit:!0,formBlockSelector:".form__group",errorBlockClass:"form__error-block",validClass:"is-valid",invalidClass:"is-invalid"};
},{"custom-event-polyfill":1}]},{},[2]);
